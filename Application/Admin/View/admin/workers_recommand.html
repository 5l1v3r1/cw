<extend name="public/template" />
<block name="headerlink">
	<!-- BEGIN PAGE LEVEL STYLES -->
	<link rel="stylesheet" type="text/css" href="__PUBLIC__/metronic3_7/assets/global/plugins/select2/select2.css"/>
	<link rel="stylesheet" type="text/css" href="__PUBLIC__/metronic3_7/assets/global/plugins/datatables/plugins/bootstrap/dataTables.bootstrap.css"/>
	<link rel="stylesheet" type="text/css" href="__PUBLIC__/metronic3_7/assets/global/plugins/bootstrap-datepicker/css/datepicker.css"/>
	<!-- END PAGE LEVEL STYLES -->
	<link rel="stylesheet" type="text/css" href="__PUBLIC__/metronic3_7/assets/global/plugins/clockface/css/clockface.css"/>
	<link rel="stylesheet" type="text/css" href="__PUBLIC__/metronic3_7/assets/global/plugins/bootstrap-datepicker/css/datepicker3.css"/>
	<link rel="stylesheet" type="text/css" href="__PUBLIC__/metronic3_7/assets/global/plugins/bootstrap-timepicker/css/bootstrap-timepicker.min.css"/>
	<link rel="stylesheet" type="text/css" href="__PUBLIC__/metronic3_7/assets/global/plugins/bootstrap-colorpicker/css/colorpicker.css"/>
	<link rel="stylesheet" type="text/css" href="__PUBLIC__/metronic3_7/assets/global/plugins/bootstrap-daterangepicker/daterangepicker-bs3.css"/>
	<link rel="stylesheet" type="text/css" href="__PUBLIC__/metronic3_7/assets/global/plugins/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css"/>

</block>
<block name="siderbarmenu">
	<ul class="page-sidebar-menu page-sidebar-menu-closed" data-keep-expanded="false" data-auto-scroll="true" data-slide-speed="200">
		<!-- DOC: To remove the sidebar toggler from the sidebar you just need to completely remove the below "sidebar-toggler-wrapper" LI element -->
		<li class="sidebar-toggler-wrapper">
			<!-- BEGIN SIDEBAR TOGGLER BUTTON -->
			<div class="sidebar-toggler">
			</div>
			<!-- END SIDEBAR TOGGLER BUTTON -->
		</li>
		<!-- DOC: To remove the search box from the sidebar you just need to completely remove the below "sidebar-search-wrapper" LI element -->
		<li class="sidebar-search-wrapper">
			<!-- BEGIN RESPONSIVE QUICK SEARCH FORM -->
			<!-- DOC: Apply "sidebar-search-bordered" class the below search form to have bordered search box -->
			<!-- DOC: Apply "sidebar-search-bordered sidebar-search-solid" class the below search form to have bordered & solid search box -->
			<form class="sidebar-search " action="extra_search.html" method="POST">
				<a href="javascript:;" class="remove">
				<i class="icon-close"></i>
				</a>
				<div class="input-group">
					<input type="text" class="form-control" placeholder="Search..." />
					<span class="input-group-btn">
					<a href="javascript:;" class="btn submit"><i class="icon-magnifier"></i></a>
					</span>
				</div>
			</form>
			<!-- END RESPONSIVE QUICK SEARCH FORM -->
		</li>
		<li class="start">
			<a href="javascript:;">
			<i class="icon-home"></i>
			<span class="title">Dashboard</span>
			<span class="selected"></span>
			<span class="arrow open"></span>
			</a>
			<ul class="sub-menu">
				<li>
					<a href="{:U('Dashboard/index');}">
					<i class="icon-bar-chart"></i>
					Default Dashboard</a>
				</li>
				<li>
					<a href="{:U('Dashboard/showDataMoneyAnalysis');}">
					<i class="icon-bar-chart"></i>
					Data Analysis</a>
				</li>
			</ul>
		</li>
		<li>
			<a href="javascript:;">
			<i class="icon-basket"></i>
			<span class="title">eCommerce</span>
			<span class="arrow "></span>
			</a>
			<ul class="sub-menu">
				<li>
					<a href="{:U('Order/showDataAnalysisPage');}">
					<i class="icon-home"></i>
					Dashboard</a>
				</li>
				<li>
					<a href="{:U('Order/orderlist?flag=2');}">
					<i class="icon-bell"></i>
					<span class="badge badge-danger">{$cin}</span>
					Orders Ongoing</a>
				</li>
				<li>
					<a href="{:U('Order/orderlist?flag=4');}">
					<i class="fa fa-warning"></i>
					<span class="badge badge-danger">{$cin1}</span>
					<font color="red">Orders Warning</font></a>
				</li>
				<li>
					<a href="{:U('Order/orderlist?flag=1');}">
					<i class="fa fa-lock"></i>
					Complete Orders</a>
				</li>
				<li>
					<a href="{:U('Order/orderlist?flag=3');}">
					<i class="icon-basket"></i>
					Orders All</a>
				</li>
				<li>
					<a href="#">
						<i class="icon-bar-chart"></i>
						Data Analysis
					</a>
				</li>
			</ul>
		</li>
		<li class="active open">
			<a href="javascript:;">
				<i class="fa fa-code"></i>
				<span class="title">Workers</span>
				<span class="arrow "></span>
			</a>
			<ul class="sub-menu">
				<li class="active">
					<a href="{:U('Worker/showDataAnalysisPage');}">
					<i class="icon-home"></i>
					Dashboard</a>
				</li>
				<li class="active">
					<a href="{:U('Worker/workerRecommandPage');}">
						<i class="fa fa-smile-o" aria-hidden="true"></i>
						Workers Recommand
					</a>
				</li>
				<li >
					<a href="{:U('Worker/workerlist');}">
						<i class="fa fa-list" aria-hidden="true"></i>
						ALL Workers Workers
					</a>
				</li>
				<li>
					<a href="{:U('Worker/workerlist?type=4');}">
						<i class="fa fa-user-circle-o" aria-hidden="true"></i>
						free workers
					</a>
				</li>
				<li>
					<a href="{:U('Worker/workerlist?type=5');}">
						<i class="fa fa-user-circle-o" aria-hidden="true"></i>
						busy workers
					</a>
				</li>
				<li>
					<a href="{:U('Worker/workerlist?type=2');}">
						<i class="fa fa-user-circle-o" aria-hidden="true"></i>
						Income > 0
					</a>
				</li>
				<li >
					<a href="{:U('Worker/workerlist?type=1');}">
						<i class="fa fa-user-circle-o" aria-hidden="true"></i>
						Income = 0
					</a>
				</li>
				<li>
					<a href="{:U('Worker/workerlist?type=3');}">
						<i class="fa fa-user-times" aria-hidden="true"></i>
						dead workers
					</a>
				</li>
				<li>
					<a href="#">
						<i class="icon-bar-chart"></i>
						Data Analysis
					</a>
				</li>
			</ul>
		</li>
		<li>
			<a href="javascript:;">
			<i class="fa fa-wrench" aria-hidden="true"></i>
			<span class="title">Tools</span>
			<span class="arrow "></span>
			</a>
			<ul class="sub-menu">
				<li>
					<a href="{:U('Tool/exchangeToolPage');}">
						<i class="fa fa-exchange" aria-hidden="true"></i> Transfer Tools
					</a>
				</li>
			</ul>
		</li>
		<li>
			<a href="javascript:;">
			<i class="icon-settings"></i>
			<span class="title">Configuration</span>
			<span class="arrow "></span>
			</a>
			<ul class="sub-menu">
				<li>
					<a href="{:U('Configure/exchangelist');}">
						<i class="fa fa-line-chart" aria-hidden="true"></i>
						Exchange Rate
					</a>
				</li>
				<li>
					<a href="{:U('Configure/techlist');}">
						<i class="fa fa-microchip" aria-hidden="true"></i>
						Technologies Conf
					</a>
				</li>
				<li>
					<a href="{:U('Configure/tradelist');}">
						<i class="fa fa-info-circle" aria-hidden="true"></i>
						Trade Conf
					</a>
				</li>
				<li>
					<a href="{:U('Configure/shortcutlistpage');}">
						<i class="fa fa-sliders" aria-hidden="true"></i>
						Shortcut Conf
					</a>
				</li>
				<li>
					<a href="{:U('Configure/tipslist');}">
						<i class="fa fa-calendar-check-o" aria-hidden="true"></i>
						Tips Conf
					</a>
				</li>

			</ul>
		</li>
	</ul>
</block>
<block name="container">
	<div class="page-content">
			<!-- BEGIN PAGE HEADER-->
			<h3 class="page-title">
			Orders <small>new order</small>
			</h3>
			<div class="page-bar">
				<ul class="page-breadcrumb">
					<li>
						<i class="fa fa-home"></i>
						<a href="{:U('Dashboard/index');}">Home</a>
						<i class="fa fa-angle-right"></i>
					</li>
					<li>
						<a href="#">Workers</a>
						<i class="fa fa-angle-right"></i>
					</li>
					<li>
						<a href="#">Worker Recommand</a>
					</li>
				</ul>
			</div>
			<!-- END PAGE HEADER-->
			<!-- BEGIN PAGE CONTENT-->
			<div class="row">
				<div class="col-md-12 ">
					<!-- BEGIN SAMPLE FORM PORTLET-->
					<div class="portlet box purple ">
						<div class="portlet-title">
							<div class="caption">
								<i class="fa fa-shopping-cart"></i>Worker Listing
							</div>
							<div class="actions">
								<a href="{:U('Worker/workernewpage');}" class="btn default yellow-stripe">
									<i class="fa fa-plus"></i>
									<span class="hidden-480"> New worker </span>
								</a>
								<div class="btn-group">
									<a class="btn default yellow-stripe dropdown-toggle" href="javascript:;" data-toggle="dropdown">
									<i class="fa fa-share"></i>
									<span class="hidden-480">
									Tools </span>
									<i class="fa fa-angle-down"></i>
									</a>
									<ul class="dropdown-menu pull-right">
										<li>
											<a href="javascript:;">
											Export to Excel </a>
										</li>
										<li>
											<a href="javascript:;">
											Export to CSV </a>
										</li>
										<li>
											<a href="javascript:;">
											Export to XML </a>
										</li>
										<li class="divider">
										</li>
										<li>
											<a href="javascript:;">
											Print Invoices </a>
										</li>
									</ul>
								</div>
							</div>
						</div>
						<div class="portlet-body form">
								<div class="form-body">
									<div class="col-md-12">
											<div class="form-group has-error">
												<label class="col-md-2 control-label">Select Technologies</label>
												<div class="col-md-4">
													<div class="ms-ctn form-control ms-as-string " style="" id="ms-emails"><span class="ms-helper " style="display: inline;"></span><div class="ms-sel-ctn"><input class="form-control input-inline input-large" type="text" placeholder="Enter project name ..." required /></div><div class="ms-trigger"><div class="ms-trigger-ico"></div></div></div>
													<!--<input name="projectname" type="text" placeholder="Project name" class="form-control" required>-->
												</div>
											</div>

									</div>
									<hr>
									<!--
									show recommand user list
									-->
									<div class="col-md-6">
											<div class="portlet box purple" >
												<div class="portlet-title">
													<div class="caption">
														<i class="fa fa-gift"></i>Olders
														<span class="label label-sm label-success"><small>Complete</small></span>
														<span class="label label-sm label-danger"><small>Ongoing</small></span>
														<span class="label label-sm label-warning"><small>Unpaid</small></span>
														
													</div>
													<div class="tools">
														<span >Mark </span><i class="fa fa-sort-numeric-desc" aria-hidden="true" id= "ShowOlderByMarkDesc"></i>  <i class="fa fa-sort-numeric-asc" id= "ShowOlderByMarkAsc" aria-hidden="true"></i>
														<span >| Date </span><i class="fa fa-sort-numeric-desc" aria-hidden="true" id= "ShowOlderByDateDesc"></i>  <i class="fa fa-sort-numeric-asc" id= "ShowOlderByDateAsc" aria-hidden="true"></i>
														<a href="javascript:;" class="collapse" data-original-title="" title="">
														</a>
														<a href="#portlet-config" data-toggle="modal" class="config" data-original-title="" title="">
														</a>
														<a href="javascript:;" class="reload" data-original-title="" title="">
														</a>
													</div>
												</div>
												<div class="portlet-body" >
													<h6><span class="text-success" id="oldworkernum"></span></h6>
													<!-- max-height:630px;overflow-y: scroll;  -->
														<div style="overflow-y: scroll;">

															<table class="table table-striped table-advance table-hover table-responsive">
																<tbody id="ShowOldWorkers">

																</tbody>
															</table>
														</div>
												</div>
											</div>
									</div>
									<div class="col-md-6">
											<div class="portlet box blue" >
												<div class="portlet-title">
													<div class="caption">
														<i class="fa fa-gift"></i>Recomand Newers
													</div>
													<div class="tools">
														<span >Mark </span><i class="fa fa-sort-numeric-desc" aria-hidden="true" id= "ShowNewByMarkDesc"></i>  <i class="fa fa-sort-numeric-asc" id= "ShowNewByMarkAsc" aria-hidden="true"></i>
														<span >| Date </span><i class="fa fa-sort-numeric-desc" aria-hidden="true" id= "ShowNewByDateDesc"></i>  <i class="fa fa-sort-numeric-asc" id= "ShowNewByDateAsc" aria-hidden="true"></i>
														<a href="javascript:;" class="collapse" data-original-title="" title="">
														</a>
														<a href="#portlet-config" data-toggle="modal" class="config" data-original-title="" title="">
														</a>
														<a href="javascript:;" class="reload" data-original-title="" title="">
														</a>
													</div>
												</div>
												<div class="portlet-body" >
													<h6><span class="text-success" id="newworkernum"></span></h6>
														<div style="overflow-y: scroll;">
															<table class="table table-striped table-advance table-hover  table-responsive">
																<tbody id="ShowNewWorkers">
																</tbody>
															</table>
														</div>
												</div>
											</div>
<!--
-->

<!--
-->



									</div>



								</div>
								<div >
									<div class="row">
									</div>
								</div>
						</div>
					</div>
					<!-- END SAMPLE FORM PORTLET-->
					<!-- BEGIN SAMPLE FORM PORTLET-->

					<!-- END SAMPLE FORM PORTLET-->
					<!-- BEGIN SAMPLE FORM PORTLET-->

				</div>
			</div>
			<!-- END PAGE CONTENT-->
		</div>
</block>
<block name="footscript">
	<!-- BEGIN PAGE LEVEL PLUGINS -->
	<script type="text/javascript" src="__PUBLIC__/metronic3_7/assets/global/plugins/select2/select2.min.js"></script>
	<script type="text/javascript" src="__PUBLIC__/metronic3_7/assets/global/plugins/datatables/media/js/jquery.dataTables.min.js"></script>
	<script type="text/javascript" src="__PUBLIC__/metronic3_7/assets/global/plugins/datatables/plugins/bootstrap/dataTables.bootstrap.js"></script>
	<script type="text/javascript" src="__PUBLIC__/metronic3_7/assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
	<!-- END PAGE LEVEL PLUGINS -->
	<!-- BEGIN PAGE LEVEL SCRIPTS -->
	<script type="text/javascript" src="__PUBLIC__/metronic3_7/assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
	<script type="text/javascript" src="__PUBLIC__/metronic3_7/assets/global/plugins/bootstrap-timepicker/js/bootstrap-timepicker.min.js"></script>
	<script type="text/javascript" src="__PUBLIC__/metronic3_7/assets/global/plugins/clockface/js/clockface.js"></script>
	<script type="text/javascript" src="__PUBLIC__/metronic3_7/assets/global/plugins/bootstrap-daterangepicker/moment.min.js"></script>
	<script type="text/javascript" src="__PUBLIC__/metronic3_7/assets/global/plugins/bootstrap-daterangepicker/daterangepicker.js"></script>
	<script type="text/javascript" src="__PUBLIC__/metronic3_7/assets/global/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.js"></script>
	<script type="text/javascript" src="__PUBLIC__/metronic3_7/assets/global/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js"></script>
	<!-- END PAGE LEVEL PLUGINS -->
	<!-- BEGIN PAGE LEVEL SCRIPTS -->
	<script src="__PUBLIC__/metronic3_7/assets/global/scripts/metronic.js" type="text/javascript"></script>
	<script src="__PUBLIC__/metronic3_7/assets/admin/layout/scripts/layout.js" type="text/javascript"></script>
	<script src="__PUBLIC__/metronic3_7/assets/admin/pages/scripts/components-pickers.js"></script>

		<!-- END PAGE LEVEL SCRIPTS -->
		<script>
			jQuery(document).ready(function() {
				// initiate layout and plugins
				Metronic.init(); // init metronic core components
				Layout.init(); // init current layout
				ComponentsPickers.init();
	    });
					/*auto fill*/
					$(function() {
						var myarray={:json_encode($teches)};
						//console.log(myarray);
						var ms = $('#ms-emails').magicSuggest({
							placeholder: 'Select technologies label ...',
			        data: myarray,
			        valueField: 'email',
							/*value:[{
									name: 'Georges Washington',
									email: 'georges.washington@whitehouse.gov'
							}],*/
			        renderer: function(data){
			            return data.email + ' (<b>' + data.name + '</b>)';
			        },
			        resultAsString: true,
							name: "projectname"
						});
						$(ms).on('selectionchange', function(e,m){
						  //console.log(ms.getSelection());
							var res = ms.getSelection();
							//console.log(res);
							var datas = [];
							for(var i=0;i<res.length;i++){
								if(res[i]["email"] != res[i]["name"]){
									//console.log(res[i]);
									datas.push(res[i]);

								}
							}
							//console.log(datas);
							$.ajax({
								url: "{:U('Order/ajaxRecommand');}", // server url
								type: 'POST', //POST or GET
								data: {"data":datas}, // data to send in ajax format or querystring format
								datatype: 'json',
								success: function(data) {
									//callback(data); // return data in callback
									//console.log(data[0]);
									showOldWorkers(data[0],"#oldworkernum","#ShowOldWorkers");
									showNewWorkers(data[1],"#newworkernum","#ShowNewWorkers");
									$('#ShowOlderByDateDesc').click(data[0],function(event){
										var datas = event.data;
										datas.sort(cmpdateDESC);
									    showOldWorkers(datas,"#oldworkernum","#ShowOldWorkers");
										
									}) ;
									$('#ShowOlderByDateAsc').click(data[0],function(event){
										var datas = event.data;
										datas.sort(cmpdate);
									    showOldWorkers(datas,"#oldworkernum","#ShowOldWorkers");
										
									}) ;
									$('#ShowOlderByMarkDesc').click(data[0],function(event){
										var datas = event.data;
										datas.sort(cmpmarkDESC);
									    showOldWorkers(datas,"#oldworkernum","#ShowOldWorkers");
										
									}) ;
									$('#ShowOlderByMarkAsc').click(data[0],function(event){
										var datas = event.data;
										datas.sort(cmpmark);
									    showOldWorkers(datas,"#oldworkernum","#ShowOldWorkers");
										
									}) ;
									$('#ShowNewByMarkDesc').click(data[1],function(event){
										var datas = event.data;
										datas.sort(cmpmarkDESC);
									    showNewWorkers(datas,"#newworkernum","#ShowNewWorkers");
										
									}) ;
									$('#ShowNewByMarkAsc').click(data[1],function(event){
										var datas = event.data;
										datas.sort(cmpmark);
									    showNewWorkers(datas,"#newworkernum","#ShowNewWorkers");
										
									}) ;
									$('#ShowNewByDateDesc').click(data[1],function(event){
										var datas = event.data;
										datas.sort(cmpdateDESC);
									    showNewWorkers(datas,"#newworkernum","#ShowNewWorkers");
										
									}) ;
									$('#ShowNewByDateAsc').click(data[1],function(event){
										var datas = event.data;
										datas.sort(cmpdate);
									    showNewWorkers(datas,"#newworkernum","#ShowNewWorkers");
										
									}) ;
								},
								error: function(xhr, status, error) {
										alert(xhr.responseText);
								}
							});
						});
						/*select workers*/
						var workers ={:json_encode($workers)};
						for(var i=0;i<workers.length;i++){
							workers[i]["name"] = workers[i]["name"]+"("+workers[i]["email"] + ")";

						}
						var ms1 = $('#ms-workers').magicSuggest({
							placeholder: 'Select workers ...',
			        data: workers,
			        valueField: 'email',
							/*value:[{
									name: 'Georges Washington',
									email: 'georges.washington@whitehouse.gov'
							}],*/
			        renderer: function(data){
			            return data.name ;
			        },
			        resultAsString: true,
							name: "wxid"
						});
						$("#ShowOldWorkers").on("click","a", function() {
							//console.log($(this).attr("id"));
							var id = $(this).attr("id")

							ms1.setSelection([{email:id.split("|")[0], name:id.split("|")[1]+"("+id.split("|")[0]+")"}]);
						});
						$("#ShowNewWorkers").on("click","a", function() {
							//console.log($(this).attr("id"));
							var id = $(this).attr("id")

							ms1.setSelection([{email:id.split("|")[0], name:id.split("|")[1]+"("+id.split("|")[0]+")"}]);
						});
					});
					/* show workers*/
					function showOldWorkers(data,numlabel,showtbody){

						$(numlabel).html('<i class="fa fa-users"></i>  recommand total workers '+data.length);
						$(showtbody).html("");
						for(var i=0;i<data.length;i++){
							var techspans = "";
							for(var j=0;j<data[i].techarr.length;j++){
								//console.log(data[i].techarr[j]);
								var attrclass = '';
								var spanclass = "";
								if(data[i].techarr[j].attr == 1){
									attrclass = 'text-danger';
									spanclass = 'class="label label-sm '+ attrclass +'"';
								}else if(data[i].techarr[j].attr == 2)
								{
									attrclass = 'text-success';
									spanclass = 'class="label label-sm '+ attrclass +'"';
								}
								if(j %4 == 0 && j != 0){
									techspans = techspans + '<br><small> <i class="fa fa-circle '+ attrclass +'" aria-hidden="true"></i><span '+spanclass+'> '+ data[i].techarr[j].content + '</span></small>';
								}else{
									techspans = techspans + '<small> <i class="fa fa-circle '+ attrclass +'" aria-hidden="true"></i><span '+spanclass+'> '+ data[i].techarr[j].content + '</span></small>';
								}
								
							}
								var trc = '\
<td><small><i class="fa fa-paperclip"></i> '+ (i+1) +'\
<br> <font color="red">'+ data[i].mark_sum +'</font></small>\
</td>\
<td >\
<a href="javascript:;" class="name"><small><strong>'+ data[i].wxname +'</strong><br>'+ data[i].wxid +'</small></a>\
<br><small> <i class="fa fa-clock-o" aria-hidden="true"></i> '+ data[i].addtime +'</small>\
</td>\
<td>\
<span class="label label-sm label-danger"><small><strong>'+ data[i].orderonging +'</strong></small></span>\
<span class="label label-sm label-warning"><small><strong>'+ data[i].orderunpaid +'</strong></small></span><br>\
<span class="label label-sm label-success"><small>'+ data[i].ordercomplete +'</small></span><br>\
</td>\
<td style="width:auto">\
'+ techspans +'\
</td>\
';
							$(showtbody).append($('<tr class="unread"></tr>').append(trc));
					}
				}
				function showNewWorkers(data,numlabel,showtbody){
					$(numlabel).html('<i class="fa fa-users"></i>  recommand total workers '+data.length);
					$(showtbody).html("");
					for(var i=0;i<data.length;i++){
						var techspans = "";
						for(var j=0;j<data[i].techarr.length;j++){
								//console.log(data[i].techarr[j]);
								var attrclass = '';
								var spanclass = "";
								if(data[i].techarr[j].attr == 1){
									attrclass = 'text-danger';
									spanclass = 'class="label label-sm '+ attrclass +'"';
								}else if(data[i].techarr[j].attr == 2)
								{
									attrclass = 'text-success';
									spanclass = 'class="label label-sm '+ attrclass +'"';
								}
								if(j %4 == 0 && j != 0){
									techspans = techspans + '<br><small> <i class="fa fa-circle '+ attrclass +'" aria-hidden="true"></i><span '+spanclass+'> '+ data[i].techarr[j].content + '</span></small>';
								}else{
									techspans = techspans + '<small> <i class="fa fa-circle '+ attrclass +'" aria-hidden="true"></i><span '+spanclass+'> '+ data[i].techarr[j].content + '</span></small>';
								}
								
							}
							var trc = '\
<td><small><i class="fa fa-paperclip"></i> '+ (i+1) +'\
</td>\
<td >\
<a href="javascript:;" class="name"><small><strong>'+ data[i].wxname +'</strong><br>'+ data[i].wxid +'</small></a>\
<br><small> <i class="fa fa-clock-o" aria-hidden="true"></i> '+ data[i].addtime +'</small>\
</td>\
<td>\
<span class="label label-sm label-danger"><small><strong>'+ data[i].attrsimple +'</strong></small></span>\
</td>\
<td style="width:auto">\
'+ techspans +'\
</td>\
';
					$(showtbody).append($('<tr class="unread"></tr>').append(trc));
					}
				}
/*pay method */
			$("input[name='moneytype']").val("RMB");
			$("input[name='paymethod']").bind("click",function(){  
				var moneytype = "RMB";
				if($(this).val() == "Paypal"){
					moneytype = "USD";
				}
				
				$("input[name='moneytype']").val(moneytype);
				//测试操作代码  
				//alert($(this).val());  
				
			});  
			function cmpmark(a, b){
				return a.mark_sum-b.mark_sum;
			}
			function cmpmarkDESC(a, b){
				return b.mark_sum-a.mark_sum;
			}
			function cmpdate(a,b){
				var dateA=new Date(a.addtime), dateB=new Date(b.addtime)
    			return dateA-dateB //sort by date ascending
			}
			function cmpdateDESC(a,b){
				var dateA=new Date(a.addtime), dateB=new Date(b.addtime)
    			return dateB-dateA; //sort by date ascending
			}

			

			</script>
</block>
